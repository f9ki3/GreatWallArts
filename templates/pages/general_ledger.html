<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link
      rel="icon"
      type="image/png"
      href="{{ url_for('static', filename='img/gwoa_logo.png') }}"
    />
    <link
      rel="stylesheet"
      href="{{ url_for('static', filename='css/sales_table.css') }}"
    />
    <title>General Ledger</title>
    {% include 'components/header.html' %}
    <style>
      tbody tr {
        cursor: pointer;
      }
      .sortable:hover {
        cursor: pointer;
        text-decoration: underline;
      }
      .pagination-controls {
        display: flex;
        align-items: center;
        justify-content: space-between;
        flex-wrap: wrap;
      }
      .per-page-select {
        margin-bottom: 10px;
      }
    </style>
  </head>
  <body>
    <div class="d-flex">
      {% include 'components/navbar.html' %}
      <div class="w-100">
        {% include 'components/navigation.html' %}
        <div class="container mt-5">
          <div class="row align-items-center mb-3">
            <div class="col-md-10 col-12">
              <h1 class="fw-bolder">General Ledger</h1>
              <p class="text-muted">
                You can manage and find recent tracking of expenses here.
              </p>
            </div>
            <div class="col-12 col-md-2">
              <button
                data-bs-toggle="modal"
                data-bs-target="#create-account"
                class="btn btn-warning w-100"
              >
                <i class="bi bi-plus-circle"></i> Create Account
              </button>
            </div>
          </div>

          <!-- Modal -->
          <div
            class="modal fade"
            id="create-account"
            tabindex="-1"
            aria-labelledby="exampleModalLabel"
            aria-hidden="true"
          >
            <div class="modal-dialog">
              <div class="modal-content">
                <div class="modal-header">
                  <h5 class="modal-title" id="exampleModalLabel">
                    Create Account
                  </h5>
                  <button
                    type="button"
                    class="btn-close"
                    data-bs-dismiss="modal"
                    aria-label="Close"
                  ></button>
                </div>
                <div class="modal-body">
                  <div class="mb-3">
                    <label for="account" class="form-label">Account</label>
                    <select class="form-select" id="account" name="account">
                      <option value="" disabled selected>
                        Select account type
                      </option>
                      <option value="assets">Assets</option>
                      <option value="liabilities">Liabilities</option>
                      <option value="equity">Equity</option>
                      <option value="revenue">Revenue</option>
                      <option value="expenses">Expenses</option>
                    </select>
                  </div>
                  <div class="row mb-3">
                    <div class="col-md-6">
                      <label for="credit" class="form-label">Credit</label>
                      <input
                        type="number"
                        class="form-control"
                        id="credit"
                        name="credit"
                        placeholder="Enter credit amount"
                        onfocus="clearOtherField('credit', 'debit')"
                      />
                    </div>
                    <div class="col-md-6">
                      <label for="debit" class="form-label">Debit</label>
                      <input
                        type="number"
                        class="form-control"
                        id="debit"
                        name="debit"
                        placeholder="Enter debit amount"
                        onfocus="clearOtherField('debit', 'credit')"
                      />
                    </div>
                  </div>
                  <div class="mb-3">
                    <label for="description" class="form-label"
                      >Description</label
                    >
                    <textarea
                      class="form-control"
                      id="description"
                      name="description"
                      rows="3"
                      placeholder="Enter description"
                    ></textarea>
                  </div>
                </div>
                <div class="modal-footer">
                  <button
                    type="button"
                    class="btn btn-secondary"
                    data-bs-dismiss="modal"
                  >
                    Close
                  </button>
                  <button
                    id="add_account_ledge"
                    type="button"
                    class="btn btn-warning"
                    disabled
                  >
                    Add Account
                  </button>
                </div>
              </div>
            </div>
          </div>

          <!-- Search Bar -->
          <div class="row">
            <div class="col-md-6">
              <input
                type="text"
                id="search-input"
                class="form-control"
                placeholder="Search here"
              />
            </div>
          </div>

          <!-- Table -->
          <div class="table-responsive">
            <table class="table table-striped table-hover">
              <thead>
                <tr>
                  <th style="width: 10%" class="sortable" data-sort="reference">
                    Reference
                  </th>
                  <th style="width: 5%" class="sortable" data-sort="date">
                    Date
                  </th>
                  <th style="width: 5%" class="sortable" data-sort="account">
                    Account
                  </th>
                  <th style="width: 5%" class="sortable" data-sort="credit">
                    Credit
                  </th>
                  <th style="width: 5%" class="sortable" data-sort="debit">
                    Debit
                  </th>
                  <th
                    style="width: 10%"
                    class="sortable"
                    data-sort="description"
                  >
                    Description
                  </th>
                  <th
                    style="width: 5%"
                    class="sortable text-end"
                    data-sort="action"
                  >
                    Action
                  </th>
                </tr>
              </thead>
              <tbody id="general_ledger_tbody">
                <tr>
                  <td colspan="7" class="text-center">Loading data...</td>
                </tr>
              </tbody>
            </table>
          </div>

          <!-- Pagination -->
          <div class="d-flex justify-content-between mt-2">
            <div class="per-page-select">
              <select id="per-page" class="form-select w-auto">
                <option value="5">5</option>
                <option value="10" selected>10</option>
                <option value="20">20</option>
                <option value="50">50</option>
              </select>
            </div>
            <nav>
              <ul class="pagination">
                <li class="page-item">
                  <button class="page-link text-muted" id="prev-page">
                    Previous
                  </button>
                </li>
                <li class="page-item">
                  <span class="page-link text-muted" id="page-info"
                    >Page 1</span
                  >
                </li>
                <li class="page-item">
                  <button class="page-link text-muted" id="next-page">
                    Next
                  </button>
                </li>
              </ul>
            </nav>
          </div>
        </div>
      </div>
    </div>

    {% include 'components/footer.html' %}
    <script src="{{ url_for('static', filename='js/get_account.js') }}"></script>
    <script src="{{ url_for('static', filename='js/validation_accounts_ledge.js') }}"></script>

    <!-- JavaScript -->
    <script></script>
  </body>
</html>
